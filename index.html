<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free JPG to JPEG Converter â€“ Convert JPG Images to JPEG Online</title>
    <meta name="description" content="Instantly convert JPG to JPEG online for free. No signup required. Fast, secure, and easy image format conversion. Works on all devices.">
    <meta name="keywords" content="JPG to JPEG converter, convert JPG to JPEG, jpg image converter, jpeg converter tool, free online image converter, batch jpg to jpeg">
    <link rel="canonical" href="https://jpgtojpegconverter.com/">
    
    <!-- Sitemap Reference -->
    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="logo.png">
    <link rel="shortcut icon" type="image/png" href="logo.png">
    <link rel="apple-touch-icon" href="logo.png">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Free JPG to JPEG Converter â€“ Convert JPG Images to JPEG Online">
    <meta property="og:description" content="Instantly convert JPG to JPEG online for free. No signup required. Fast, secure, and easy image format conversion.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jpgtojpegconverter.com/">
    <meta property="og:image" content="https://jpgtojpegconverter.com/logo.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Free JPG to JPEG Converter â€“ Convert JPG Images to JPEG Online">
    <meta name="twitter:description" content="Instantly convert JPG to JPEG online for free. No signup required. Fast, secure, and easy image format conversion.">
    <meta name="twitter:image" content="https://jpgtojpegconverter.com/logo.png">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "JPG to JPEG Converter",
        "description": "Free online tool to convert JPG images to JPEG format",
        "url": "https://jpgtojpegconverter.com/",
        "applicationCategory": "ImageConverter",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "Brat Generator"
        }
    }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: #ffffff;
            padding: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #e9ecef;
        }

        /* Scroll offset for fixed header */
        section[id] {
            scroll-margin-top: 80px;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            align-items: center;
            gap: 2rem;
        }

        .nav-menu li {
            margin: 0;
        }

        .nav-menu a {
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            font-size: 1rem;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-menu a:hover {
            color: #495057;
            background-color: #f8f9fa;
        }

        .nav-menu a.active {
            color: #495057;
            background-color: #e9ecef;
        }

        /* Mobile menu toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #2c3e50;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Mobile menu styles */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: white;
                flex-direction: column;
                gap: 0;
                box-shadow: 0 4px 16px rgba(0,0,0,0.1);
                border-top: 1px solid #e9ecef;
                z-index: 1000;
            }

            .nav-menu.active {
                display: flex;
            }

            .nav-menu li {
                width: 100%;
                border-bottom: 1px solid #e9ecef;
            }

            .nav-menu li:last-child {
                border-bottom: none;
            }

            .nav-menu a {
                display: block;
                padding: 1rem 1.5rem;
                border-radius: 0;
                width: 100%;
                text-align: left;
            }

            .mobile-menu-toggle {
                display: block;
            }

            nav {
                position: relative;
            }

            .logo {
                font-size: 1.2rem;
            }

            .logo img {
                width: 35px;
                height: 35px;
                margin-right: 8px;
            }
        }

        /* Tablet and smaller desktop styles */
        @media (max-width: 1024px) {
            .nav-menu {
                gap: 1rem;
            }

            .nav-menu a {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .logo:hover {
            color: #34495e;
        }

        .logo:hover img {
            box-shadow: 0 4px 12px rgba(44, 62, 80, 0.15);
        }

        .logo img {
            width: 45px;
            height: 45px;
            margin-right: 12px;
            border-radius: 8px;
            object-fit: contain;
            background: white;
            padding: 2px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }



        /* Hero Section */
        .hero {
            text-align: center;
            padding: 3rem 0;
            color: #2c3e50;
            background: #ffffff;
            margin: 1rem 0;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 600;
            color: #2c3e50;
        }

        .hero p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            color: #5a6c7d;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Converter Tool */
        .converter-tool {
            background: white;
            border-radius: 8px;
            padding: 2.5rem;
            margin: 2rem auto;
            max-width: 1200px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
        }

        .upload-area {
            border: 2px dashed #6c757d;
            border-radius: 6px;
            padding: 2rem 1.5rem;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            background-color: #f8f9fa;
        }

        .upload-area:hover {
            border-color: #495057;
            background-color: #e9ecef;
        }

        .upload-area.dragover {
            border-color: #28a745;
            background-color: #d4edda;
        }

        .upload-icon {
            font-size: 2.5rem;
            color: #6c757d;
            margin-bottom: 0.8rem;
            font-weight: 300;
        }

        .upload-text {
            font-size: 1rem;
            color: #666;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .file-input {
            display: none;
        }

        .btn {
            background: #495057;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: #343a40;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Result Section */
        .result-section {
            display: none;
            margin-top: 2rem;
            padding: 2rem;
            border-radius: 6px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
        }

        .file-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .file-item {
            display: grid;
            grid-template-columns: 80px 2fr 150px 120px 150px 100px 100px 50px;
            gap: 1.5rem;
            align-items: center;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            border: 1px solid #e9ecef;
            min-height: 80px;
        }

        .file-thumbnail {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            object-fit: cover;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .file-name {
            font-weight: 600;
            color: #333;
            word-break: break-all;
            font-size: 0.9rem;
        }

        .preserve-metadata {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: #666;
        }

        .preserve-metadata input[type="checkbox"] {
            transform: scale(1.2);
        }

        .status-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 80px;
        }

        .status-ready {
            background: #6c757d;
            color: white;
        }

        .status-converting {
            background: #fd7e14;
            color: white;
            cursor: not-allowed;
        }

        .status-completed {
            background: #28a745;
            color: white;
        }

        .status-error {
            background: #dc3545;
            color: white;
        }

        .progress-container {
            width: 140px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            height: 8px;
        }

        .progress-bar {
            height: 100%;
            background: #495057;
            width: 0%;
            transition: width 0.3s ease;
        }

        .file-size {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
            min-width: 90px;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 4px;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        .batch-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 4px;
            border: 1px solid #e9ecef;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        .batch-controls .left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .batch-controls .right {
            display: flex;
            gap: 1rem;
        }

        .clear-btn {
            background: #dc3545 !important;
        }

        .clear-btn:hover {
            background: #c82333 !important;
        }

        /* Features Section */
        .features {
            background: white;
            padding: 4rem 0;
        }

        .features h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            text-align: center;
            padding: 2rem;
            border-radius: 6px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            transition: box-shadow 0.3s;
        }

        .feature-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #495057;
            font-weight: 300;
        }

        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            color: #333;
        }

        .feature-card p {
            color: #666;
            line-height: 1.6;
        }

        /* FAQ Section */
        .faq-section {
            background: #f8f9fa;
            padding: 4rem 0 6rem 0;
        }

        .faq-section h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .faq-item {
            background: white;
            margin-bottom: 1rem;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #e9ecef;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: #333;
            background: white;
            border: none;
            width: 100%;
            text-align: left;
            font-size: 1.1rem;
            transition: background-color 0.3s;
        }

        .faq-question:hover {
            background-color: #f8f9fa;
        }

        .faq-answer {
            padding: 0 1.5rem 1.5rem;
            color: #666;
            line-height: 1.6;
        }





        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                max-width: 95%;
            }
            
            .converter-tool {
                max-width: 95%;
                margin: 1.5rem auto;
            }
            
            .file-item {
                grid-template-columns: 70px 2fr 120px 100px 120px 80px 80px 40px;
                gap: 1rem;
                padding: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
                padding: 0 1rem;
            }
            
            .converter-tool {
                margin: 1rem;
                padding: 1.5rem 1rem;
            }
            
            .upload-area {
                padding: 1.5rem 1rem;
                max-width: 100%;
                margin: 0 0 2rem 0;
            }
            
            .upload-icon {
                font-size: 2.5rem;
                margin-bottom: 0.5rem;
            }
            
            .upload-text {
                font-size: 0.9rem;
            }
            
            .logo img {
                width: 35px;
                height: 35px;
                margin-right: 8px;
            }
            
            .logo {
                font-size: 1.2rem;
            }
            

            
            .file-item {
                grid-template-columns: 60px 1fr;
                gap: 0.5rem;
                padding: 0.8rem 1rem;
            }
            
            .file-item > *:nth-child(n+3) {
                grid-column: 1 / -1;
                justify-self: start;
                margin-top: 0.5rem;
            }
            
            .file-thumbnail {
                width: 50px;
                height: 50px;
            }
            
            .batch-controls {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }
            
            .batch-controls .left,
            .batch-controls .right {
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .batch-controls .right .btn {
                margin: 0.25rem;
                font-size: 0.9rem;
                padding: 10px 16px;
            }
        }

        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            margin: 2rem 0;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #495057;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <a href="#home" class="logo">
                <img src="logo.png" alt="JPG to JPEG Converter Logo">
                JPG to JPEG Converter
            </a>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">Home</a></li>
                <li><a href="#converter">Converter</a></li>
                <li><a href="#how-to-use">How to Use</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#about">About</a></li>
            </ul>
            
            <button class="mobile-menu-toggle" id="mobileMenuToggle">
                â˜°
            </button>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <h1>Free Online JPG to JPEG Converter</h1>
            <p>Convert your JPG images to JPEG format in seconds. 100% free, fast, and no registration required. Your files are processed locally and never uploaded to any server.</p>
        </div>
    </section>

    <!-- Converter Tool -->
    <section class="container" id="converter">
        <h2 style="text-align: center; margin-bottom: 2rem; color: #2c3e50; font-size: 2rem;">JPG to JPEG Converter Tool</h2>
        <div class="converter-tool">
            <div class="upload-area" id="uploadArea">
                <div class="upload-icon">â¬†</div>
                <div class="upload-text">Drag & drop your JPG files here or click to browse</div>
                <input type="file" id="fileInput" class="file-input" accept=".jpg,.jpeg,image/jpeg,image/jpg" multiple>
                <button class="btn" id="chooseFilesBtn">
                    Choose JPG Files
                </button>
            </div>
            
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Converting your images...</p>
            </div>
            
            <div class="result-section" id="resultSection">
                <h3>File Conversion List</h3>
                <div class="batch-controls">
                    <div class="left">
                        <label class="preserve-metadata">
                            <input type="checkbox" id="preserveMetadataAll" checked>
                            Preserve All Metadata
                        </label>
                        <span id="fileCount">0 files</span>
                    </div>
                    <div class="right">
                        <button class="btn" id="convertAllBtn">Convert All</button>
                        <button class="btn" id="downloadAllBtn" style="display:none;">Download All</button>
                        <button class="btn clear-btn" id="clearAllBtn" style="display:none;">Clear All</button>
                    </div>
                </div>
                <div class="file-list" id="fileList"></div>
            </div>
        </div>
    </section>

    <!-- How to Use Section -->
    <section class="container" id="how-to-use" style="margin: 3rem auto; text-align: center;">
        <h2 style="color: #2c3e50; margin-bottom: 1.5rem; font-size: 2rem;">How to Convert JPG to JPEG</h2>
        <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,0.08); border: 1px solid #e9ecef; max-width: 800px; margin: 0 auto;">
            <ol style="text-align: left; font-size: 1.1rem; line-height: 1.8; color: #5a6c7d;">
                <li style="margin-bottom: 0.8rem;"><strong>Upload:</strong> Drag and drop your JPG files or click "Choose JPG Files" to select them</li>
                <li style="margin-bottom: 0.8rem;"><strong>Configure:</strong> Choose whether to preserve metadata for each file</li>
                <li style="margin-bottom: 0.8rem;"><strong>Convert:</strong> Click "Convert All" or convert individual files</li>
                <li style="margin-bottom: 0.8rem;"><strong>Download:</strong> Download your converted JPEG files individually or all at once</li>
            </ol>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="container">
            <h2>Why Choose Our JPG to JPEG Converter?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>Fast & Free JPG to JPEG Tool</h3>
                    <p>Instantly convert JPG images to JPEG format. No registration required, no watermarks, completely free to use.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ”’</div>
                    <h3>100% Secure & Private</h3>
                    <p>Your files never leave your device. All conversion happens in your browser, ensuring complete privacy and security.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš™</div>
                    <h3>Cross-Device Compatible</h3>
                    <p>Our JPG to JPEG tool works perfectly on all devices - smartphones, tablets, and desktop computers.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>Batch Conversion Support</h3>
                    <p>Convert multiple JPG files to JPEG format at once. Save time with our efficient batch processing feature.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section" id="faq">
        <div class="container">
            <h2>Frequently Asked Questions</h2>
            <div itemscope itemtype="https://schema.org/FAQPage">
                <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                    <button class="faq-question" itemprop="name">What is the difference between JPG and JPEG?</button>
                    <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                        <p itemprop="text">There is no technical difference between JPG and JPEG formats. They are the same image format. JPG is simply a shorter file extension that was used in older Windows systems due to the 3-character file extension limitation. JPEG stands for Joint Photographic Experts Group, the organization that created the standard.</p>
                    </div>
                </div>

                <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                    <button class="faq-question" itemprop="name">Is this JPG to JPEG converter safe to use?</button>
                    <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                        <p itemprop="text">Yes, our converter is completely safe. All image processing happens directly in your browser using JavaScript. Your files are never uploaded to any server, ensuring your privacy and security. The conversion process is 100% client-side.</p>
                    </div>
                </div>

                <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                    <button class="faq-question" itemprop="name">Do I need to install any software to convert JPG to JPEG?</button>
                    <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                        <p itemprop="text">No installation required! Our JPG to JPEG converter works entirely in your web browser. Simply open the page, upload your JPG files, and download the converted JPEG files. It's that simple and convenient.</p>
                    </div>
                </div>

                <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                    <button class="faq-question" itemprop="name">Can I convert multiple JPG files to JPEG at once?</button>
                    <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                        <p itemprop="text">Yes! Our tool supports batch conversion. You can select multiple JPG files at once and convert them all to JPEG format simultaneously. This saves time when you have many images to convert.</p>
                    </div>
                </div>

                <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
                    <button class="faq-question" itemprop="name">What file sizes are supported for JPG to JPEG conversion?</button>
                    <div class="faq-answer" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer">
                        <p itemprop="text">Our converter can handle JPG files of various sizes, from small thumbnails to high-resolution images. The processing speed depends on your device's capabilities, but most standard images convert within seconds.</p>
                    </div>
                </div>
            </div>

            <div id="about" style="margin-top: 3rem; padding: 2rem; background: white; border-radius: 15px;">
                <h2>About JPG to JPEG Conversion</h2>
                <p>Converting JPG to JPEG is often necessary for compatibility reasons. Some systems and applications specifically require the .jpeg file extension, while others use .jpg. Our free online JPG to JPEG converter makes this process effortless. Whether you're preparing images for web upload, social media platforms, or professional printing, our tool ensures your images meet the required format specifications.</p>
                
                <p>The conversion process maintains the original image quality since JPG and JPEG are essentially the same format. This means you won't lose any image data during conversion. Our converter is perfect for photographers, web developers, graphic designers, and anyone who needs to quickly change file extensions for compatibility purposes.</p>
                
                <p>Use cases for JPG to JPEG conversion include: website optimization, email attachments, social media uploads, printing services, content management systems, and mobile app development. Our tool makes it easy to ensure your images are in the correct format for any platform or application.</p>
            </div>
        </div>
    </section>





    <script>
        // File upload and conversion functionality
        const fileInput = document.getElementById('fileInput');
        const uploadArea = document.getElementById('uploadArea');
        const loading = document.getElementById('loading');
        const resultSection = document.getElementById('resultSection');
        const fileList = document.getElementById('fileList');
        const fileCount = document.getElementById('fileCount');
        const convertAllBtn = document.getElementById('convertAllBtn');
        const downloadAllBtn = document.getElementById('downloadAllBtn');
        const preserveMetadataAll = document.getElementById('preserveMetadataAll');
        const chooseFilesBtn = document.getElementById('chooseFilesBtn');
        const clearAllBtn = document.getElementById('clearAllBtn');
        
        let fileItems = [];
        let fileIndex = 0;

        // Drag and drop functionality
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            handleFiles(files);
        });

        fileInput.addEventListener('change', (e) => {
            console.log('File input changed:', e.target.files.length, 'files selected');
            if (e.target.files && e.target.files.length > 0) {
                handleFiles(e.target.files);
            }
        });

        // Click upload area to trigger file selection
        uploadArea.addEventListener('click', (e) => {
            if (e.target === uploadArea || e.target.closest('.upload-area')) {
                console.log('Upload area clicked, triggering file input');
                fileInput.click();
            }
        });

        // Choose files button click event
        chooseFilesBtn.addEventListener('click', (e) => {
            e.stopPropagation(); // Prevent event bubbling
            console.log('Choose files button clicked');
            fileInput.click();
        });

        // Preserve all metadata option
        preserveMetadataAll.addEventListener('change', (e) => {
            const checked = e.target.checked;
            fileItems.forEach(item => {
                const checkbox = document.querySelector(`#preserve_${item.id}`);
                if (checkbox) checkbox.checked = checked;
            });
        });

        // Convert all button
        convertAllBtn.addEventListener('click', () => {
            fileItems.forEach(item => {
                if (item.status === 'ready') {
                    convertSingleFile(item.id);
                }
            });
        });

        // Download all button
        downloadAllBtn.addEventListener('click', () => {
            fileItems.forEach((item, index) => {
                if (item.status === 'completed' && item.convertedUrl) {
                    setTimeout(() => downloadFile(item.id), index * 200);
                }
            });
            
            // Analytics - Track batch download
            if (typeof gtag !== 'undefined') {
                gtag('event', 'download_all', {
                    'event_category': 'JPG to JPEG',
                    'event_label': 'Batch Download',
                    'value': fileItems.filter(item => item.status === 'completed').length
                });
            }
        });

        // Clear all button
        clearAllBtn.addEventListener('click', () => {
            if (fileItems.length === 0) {
                alert('No files to clear');
                return;
            }
            
            const confirmClear = confirm(`Are you sure you want to clear all ${fileItems.length} files? This action cannot be undone.`);
            if (confirmClear) {
                clearAllFiles();
            }
        });

        function handleFiles(files) {
            console.log('HandleFiles called with:', files.length, 'files');
            if (!files || files.length === 0) {
                console.log('No files to handle');
                return;
            }
            
            let validFilesCount = 0;
            
            Array.from(files).forEach(file => {
                console.log('Processing file:', file.name, 'Type:', file.type);
                // More flexible file type checking
                if (file.type.includes('image/jpeg') || 
                    file.type.includes('image/jpg') || 
                    file.name.toLowerCase().match(/\.(jpg|jpeg)$/)) {
                    validFilesCount++;
                    addFileItem(file);
                } else {
                    console.log('File rejected:', file.name, 'Type:', file.type);
                }
            });
            
            console.log('Valid files processed:', validFilesCount);
            
            if (validFilesCount > 0) {
                resultSection.style.display = 'block';
                updateFileCount();
            } else {
                alert('Please select valid JPG/JPEG files');
            }
            
            // Clear file input to allow selecting the same files again
            fileInput.value = '';
        }

        function addFileItem(file) {
            const id = ++fileIndex;
            console.log('Adding file item:', file.name, 'ID:', id);
            
            // Check if file already exists
            const existingFile = fileItems.find(item => 
                item.file.name === file.name && 
                item.file.size === file.size && 
                item.file.lastModified === file.lastModified
            );
            
            if (existingFile) {
                console.log('File already exists:', file.name);
                alert(`File "${file.name}" already exists in the list`);
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                console.log('File read successfully:', file.name);
                const fileItem = {
                    id: id,
                    file: file,
                    thumbnailUrl: e.target.result,
                    status: 'ready',
                    progress: 0,
                    convertedUrl: null,
                    convertedSize: null
                };
                
                fileItems.push(fileItem);
                renderFileItem(fileItem);
                updateFileCount();
                console.log('File item added to list. Total items:', fileItems.length);
            };
            
            reader.onerror = function(e) {
                console.error('Failed to read file:', file.name, e);
                alert(`Failed to read file "${file.name}"`);
            };
            
            reader.readAsDataURL(file);
        }

        function renderFileItem(item) {
            const fileItemDiv = document.createElement('div');
            fileItemDiv.className = 'file-item';
            fileItemDiv.id = `file_${item.id}`;
            
            fileItemDiv.innerHTML = `
                <img src="${item.thumbnailUrl}" alt="${item.file.name}" class="file-thumbnail">
                <div class="file-name">${item.file.name}</div>
                <label class="preserve-metadata">
                    <input type="checkbox" id="preserve_${item.id}" checked>
                    Preserve Metadata
                </label>
                <button class="status-btn status-ready" id="status_${item.id}" onclick="convertSingleFile(${item.id})">
                    Ready
                </button>
                <div class="progress-container">
                    <div class="progress-bar" id="progress_${item.id}"></div>
                </div>
                <div class="file-size" id="originalSize_${item.id}">
                    ${(item.file.size / 1024).toFixed(1)} KB
                </div>
                <div class="file-size" id="convertedSize_${item.id}">-</div>
                <button class="delete-btn" onclick="removeFileItem(${item.id})" title="Delete file">
                    Ã—
                </button>
            `;
            
            fileList.appendChild(fileItemDiv);
        }

        function convertSingleFile(id) {
            const item = fileItems.find(f => f.id === id);
            if (!item || item.status !== 'ready') return;
            
            // Update status to converting
            item.status = 'converting';
            updateFileItemStatus(id, 'converting', 'Converting...');
            
            // Simulate progress
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += Math.random() * 30;
                if (progress > 90) progress = 90;
                updateProgress(id, progress);
            }, 200);
            
            // Actual conversion
            const img = new Image();
            img.onload = function() {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);
                
                const preserveMetadata = document.getElementById(`preserve_${id}`).checked;
                const quality = preserveMetadata ? 0.95 : 0.9;
                
                canvas.toBlob((blob) => {
                    clearInterval(progressInterval);
                    updateProgress(id, 100);
                    
                    const newFileName = item.file.name.replace(/\.(jpg|jpeg)$/i, '.jpeg');
                    item.convertedUrl = URL.createObjectURL(blob);
                    item.convertedSize = blob.size;
                    item.status = 'completed';
                    
                    // Update status to completed
                    updateFileItemStatus(id, 'completed', 'Completed');
                    document.getElementById(`convertedSize_${id}`).textContent = `${(blob.size / 1024).toFixed(1)} KB`;
                    
                    // Check if all completed
                    checkAllCompleted();
                    
                    // Analytics - Track conversion
                    if (typeof gtag !== 'undefined') {
                        gtag('event', 'conversion', {
                            'event_category': 'JPG to JPEG',
                            'event_label': 'Single File Converted'
                        });
                    }
                }, 'image/jpeg', quality);
            };
            
            img.onerror = function() {
                clearInterval(progressInterval);
                item.status = 'error';
                updateFileItemStatus(id, 'error', 'Failed');
            };
            
            img.src = item.thumbnailUrl;
        }

        function updateFileItemStatus(id, status, text) {
            const statusBtn = document.getElementById(`status_${id}`);
            if (statusBtn) {
                statusBtn.className = `status-btn status-${status}`;
                statusBtn.textContent = text;
                
                if (status === 'completed') {
                    statusBtn.onclick = () => downloadFile(id);
                } else if (status === 'error') {
                    statusBtn.onclick = () => convertSingleFile(id);
                } else {
                    statusBtn.onclick = null;
                }
            }
        }

        function updateProgress(id, progress) {
            const progressBar = document.getElementById(`progress_${id}`);
            if (progressBar) {
                progressBar.style.width = `${progress}%`;
            }
        }

        function downloadFile(id) {
            const item = fileItems.find(f => f.id === id);
            if (!item || !item.convertedUrl) return;
            
            const link = document.createElement('a');
            link.href = item.convertedUrl;
            link.download = item.file.name.replace(/\.(jpg|jpeg)$/i, '.jpeg');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Analytics - Track download
            if (typeof gtag !== 'undefined') {
                gtag('event', 'download', {
                    'event_category': 'JPG to JPEG',
                    'event_label': 'Single File Download'
                });
            }
        }

        function removeFileItem(id) {
            const index = fileItems.findIndex(f => f.id === id);
            if (index > -1) {
                const item = fileItems[index];
                if (item.convertedUrl) {
                    URL.revokeObjectURL(item.convertedUrl);
                }
                fileItems.splice(index, 1);
                
                const fileItemDiv = document.getElementById(`file_${id}`);
                if (fileItemDiv) {
                    fileItemDiv.remove();
                }
                
                updateFileCount();
                
                if (fileItems.length === 0) {
                    resultSection.style.display = 'none';
                }
            }
        }

        function updateFileCount() {
            fileCount.textContent = `${fileItems.length} files`;
            
            // Control clear button visibility
            if (fileItems.length > 0) {
                clearAllBtn.style.display = 'inline-block';
            } else {
                clearAllBtn.style.display = 'none';
            }
        }

        function checkAllCompleted() {
            const completedCount = fileItems.filter(item => item.status === 'completed').length;
            const totalCount = fileItems.length;
            
            if (completedCount > 0) {
                downloadAllBtn.style.display = 'inline-block';
            }
            
            if (completedCount === totalCount && totalCount > 0) {
                convertAllBtn.style.display = 'none';
            }
        }

        function clearAllFiles() {
            console.log('Clearing all files...');
            
            // Release all blob URLs to prevent memory leaks
            fileItems.forEach(item => {
                if (item.convertedUrl) {
                    URL.revokeObjectURL(item.convertedUrl);
                }
            });
            
            // Clear file array
            fileItems = [];
            
            // Clear DOM
            fileList.innerHTML = '';
            
            // Reset state
            updateFileCount();
            resultSection.style.display = 'none';
            convertAllBtn.style.display = 'inline-block';
            downloadAllBtn.style.display = 'none';
            
            // Reset file input
            fileInput.value = '';
            
            console.log('All files cleared successfully');
            
            // Analytics - Track clear operation
            if (typeof gtag !== 'undefined') {
                gtag('event', 'clear_all', {
                    'event_category': 'JPG to JPEG',
                    'event_label': 'Clear All Files'
                });
            }
        }

        // FAQ toggle functionality
        document.querySelectorAll('.faq-question').forEach(button => {
            button.addEventListener('click', () => {
                const answer = button.nextElementSibling;
                const isOpen = answer.style.display === 'block';
                
                // Close all other answers
                document.querySelectorAll('.faq-answer').forEach(ans => {
                    ans.style.display = 'none';
                });
                
                // Toggle current answer
                answer.style.display = isOpen ? 'none' : 'block';
            });
        });

        // Navigation functionality
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const navMenu = document.getElementById('navMenu');

        // Mobile menu toggle
        mobileMenuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', (e) => {
            if (!navMenu.contains(e.target) && !mobileMenuToggle.contains(e.target)) {
                navMenu.classList.remove('active');
            }
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active navigation item on scroll
        function updateActiveNavItem() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.nav-menu a');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop - 200) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        }

        // Update active nav item on scroll
        window.addEventListener('scroll', updateActiveNavItem);
        
        // Set initial active nav item
        updateActiveNavItem();



        // Initialization check and Analytics tracking
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Page loaded, checking elements...');
            console.log('fileInput:', fileInput ? 'Found' : 'NOT FOUND');
            console.log('uploadArea:', uploadArea ? 'Found' : 'NOT FOUND');
            console.log('chooseFilesBtn:', chooseFilesBtn ? 'Found' : 'NOT FOUND');
            console.log('resultSection:', resultSection ? 'Found' : 'NOT FOUND');
            
            // Track page load
            if (typeof gtag !== 'undefined') {
                gtag('event', 'page_view', {
                    'page_title': 'JPG to JPEG Converter',
                    'page_location': window.location.href
                });
            }
        });
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K58M4M6YJ9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-K58M4M6YJ9');
    </script>
</body>
</html> 